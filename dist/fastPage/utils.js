"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils = {};
utils.stripProxyFromErrors = (handler = {}) => {
    const newHandler = {};
    const traps = Object.getOwnPropertyNames(handler);
    traps.forEach((trap) => {
        newHandler[trap] = function () {
            try {
                return handler[trap].apply(this, arguments || []);
            }
            catch (err) {
                if (!err || !err.stack || !err.stack.includes(`at `)) {
                    throw err;
                }
                const stripWithBlacklist = (stack) => {
                    const blacklist = [
                        `at Reflect.${trap} `,
                        `at Object.${trap} `,
                        `at Object.newHandler.<computed> [as ${trap}] `,
                    ];
                    return (err.stack
                        .split("\n")
                        .filter((line, index) => index !== 1)
                        .filter((line) => !blacklist.some((bl) => line.trim().startsWith(bl)))
                        .join("\n"));
                };
                const stripWithAnchor = (stack) => {
                    const stackArr = stack.split("\n");
                    const anchor = `at Object.newHandler.<computed> [as ${trap}] `;
                    const anchorIndex = stackArr.findIndex((line) => line.trim().startsWith(anchor));
                    if (anchorIndex === -1) {
                        return false;
                    }
                    stackArr.splice(1, anchorIndex);
                    return stackArr.join("\n");
                };
                err.stack = stripWithAnchor(err.stack) || stripWithBlacklist(err.stack);
                throw err;
            }
        };
    });
    return newHandler;
};
utils.stripErrorWithAnchor = (err, anchor) => {
    const stackArr = err.stack.split("\n");
    const anchorIndex = stackArr.findIndex((line) => line.trim().startsWith(anchor));
    if (anchorIndex === -1) {
        return err;
    }
    stackArr.splice(1, anchorIndex);
    err.stack = stackArr.join("\n");
    return err;
};
utils.replaceProperty = (obj, propName, descriptorOverrides = {}) => {
    return Object.defineProperty(obj, propName, {
        ...(Object.getOwnPropertyDescriptor(obj, propName) || {}),
        ...descriptorOverrides,
    });
};
utils.preloadCache = () => {
    if (utils.cache) {
        return;
    }
    utils.cache = {
        Reflect: {
            get: Reflect.get.bind(Reflect),
            apply: Reflect.apply.bind(Reflect),
        },
        nativeToStringStr: Function.toString + "",
    };
};
utils.makeNativeString = (name = "") => {
    utils.preloadCache();
    return utils.cache.nativeToStringStr.replace("toString", name || "");
};
utils.patchToString = (obj, str = "") => {
    utils.preloadCache();
    const toStringProxy = new Proxy(Function.prototype.toString, {
        apply: function (target, ctx) {
            if (ctx === Function.prototype.toString) {
                return utils.makeNativeString("toString");
            }
            if (ctx === obj) {
                return str || utils.makeNativeString(obj.name);
            }
            const hasSameProto = Object.getPrototypeOf(Function.prototype.toString).isPrototypeOf(ctx.toString);
            if (!hasSameProto) {
                return ctx.toString();
            }
            return target.call(ctx);
        },
    });
    utils.replaceProperty(Function.prototype, "toString", {
        value: toStringProxy,
    });
};
utils.patchToStringNested = (obj = {}) => {
    return utils.execRecursively(obj, ["function"], utils.patchToString);
};
utils.redirectToString = (proxyObj, originalObj) => {
    utils.preloadCache();
    const toStringProxy = new Proxy(Function.prototype.toString, {
        apply: function (target, ctx) {
            if (ctx === Function.prototype.toString) {
                return utils.makeNativeString("toString");
            }
            if (ctx === proxyObj) {
                const fallback = () => originalObj && originalObj.name
                    ? utils.makeNativeString(originalObj.name)
                    : utils.makeNativeString(proxyObj.name);
                return originalObj + "" || fallback();
            }
            const hasSameProto = Object.getPrototypeOf(Function.prototype.toString).isPrototypeOf(ctx.toString);
            if (!hasSameProto) {
                return ctx.toString();
            }
            return target.call(ctx);
        },
    });
    utils.replaceProperty(Function.prototype, "toString", {
        value: toStringProxy,
    });
};
utils.replaceWithProxy = (obj, propName, handler) => {
    utils.preloadCache();
    const originalObj = obj[propName];
    const proxyObj = new Proxy(obj[propName], utils.stripProxyFromErrors(handler));
    utils.replaceProperty(obj, propName, { value: proxyObj });
    utils.redirectToString(proxyObj, originalObj);
    return true;
};
utils.mockWithProxy = (obj, propName, pseudoTarget, handler) => {
    utils.preloadCache();
    const proxyObj = new Proxy(pseudoTarget, utils.stripProxyFromErrors(handler));
    utils.replaceProperty(obj, propName, { value: proxyObj });
    utils.patchToString(proxyObj);
    return true;
};
utils.createProxy = (pseudoTarget, handler) => {
    utils.preloadCache();
    const proxyObj = new Proxy(pseudoTarget, utils.stripProxyFromErrors(handler));
    utils.patchToString(proxyObj);
    return proxyObj;
};
utils.splitObjPath = (objPath) => ({
    objName: objPath.split(".").slice(0, -1).join("."),
    propName: objPath.split(".").slice(-1)[0],
});
utils.replaceObjPathWithProxy = (objPath, handler) => {
    const { objName, propName } = utils.splitObjPath(objPath);
    const obj = eval(objName);
    return utils.replaceWithProxy(obj, propName, handler);
};
utils.execRecursively = (obj = {}, typeFilter = [], fn) => {
    function recurse(obj) {
        for (const key in obj) {
            if (obj[key] === undefined) {
                continue;
            }
            if (obj[key] && typeof obj[key] === "object") {
                recurse(obj[key]);
            }
            else {
                if (obj[key] && typeFilter.includes(typeof obj[key])) {
                    fn.call(this, obj[key]);
                }
            }
        }
    }
    recurse(obj);
    return obj;
};
utils.stringifyFns = (fnObj = { hello: () => "world" }) => {
    function fromEntries(iterable) {
        return [...iterable].reduce((obj, [key, val]) => {
            obj[key] = val;
            return obj;
        }, {});
    }
    return (Object.fromEntries || fromEntries)(Object.entries(fnObj)
        .filter(([key, value]) => typeof value === "function")
        .map(([key, value]) => [key, value.toString()]));
};
utils.materializeFns = (fnStrObj = { hello: "() => 'world'" }) => {
    return Object.fromEntries(Object.entries(fnStrObj).map(([key, value]) => {
        if (value.startsWith("function")) {
            return [key, eval(`() => ${value}`)()];
        }
        else {
            return [key, eval(value)];
        }
    }));
};
exports.default = utils;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmFzdFBhZ2UvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFZQSxNQUFNLEtBQUssR0FBUSxFQUFFLENBQUE7QUFTckIsS0FBSyxDQUFDLG9CQUFvQixHQUFHLENBQUMsVUFBZSxFQUFFLEVBQUUsRUFBRTtJQUNqRCxNQUFNLFVBQVUsR0FBUSxFQUFFLENBQUE7SUFFMUIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ2pELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNyQixVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUc7WUFDakIsSUFBSTtnQkFFRixPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsSUFBSSxFQUFFLENBQUMsQ0FBQTthQUNsRDtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUVaLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ3BELE1BQU0sR0FBRyxDQUFBO2lCQUNWO2dCQVFELE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxLQUFVLEVBQUUsRUFBRTtvQkFDeEMsTUFBTSxTQUFTLEdBQUc7d0JBQ2hCLGNBQWMsSUFBSSxHQUFHO3dCQUNyQixhQUFhLElBQUksR0FBRzt3QkFDcEIsdUNBQXVDLElBQUksSUFBSTtxQkFDaEQsQ0FBQTtvQkFDRCxPQUFPLENBQ0wsR0FBRyxDQUFDLEtBQUs7eUJBQ04sS0FBSyxDQUFDLElBQUksQ0FBQzt5QkFFWCxNQUFNLENBQUMsQ0FBQyxJQUFTLEVBQUUsS0FBVSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDO3lCQUU5QyxNQUFNLENBQUMs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